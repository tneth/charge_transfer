#!/bin/bash
# Replaces old charges from file.prmtop with new amber charges (amber.charges)
# outputs ct.prmtop (file.prmtop is unchanged)

cp file.prmtop ct.prmtop

A=(2.36787855E+00 -3.47546639E+00 -3.65295159E+00 -3.56091075E+00 -5.38144608E+00
  1.51890159E+00 -3.75947916E+00  2.09056066E+01 -5.45506417E+00  5.14743530E-01
 -4.91601209E+00 -2.24923316E+00 -5.53731963E+00 -3.82954390E+00 -9.83880288E+00
 -9.85215983E+00  3.11973065E+00  1.84112653E+00  3.06238507E+00  1.96068304E+00
  2.41707876E+00  2.12774508E+00 -6.85087413E+00  6.46990050E+00 -3.27310775E+00
  8.03889520E+00 -3.25756413E+00  6.46314003E+00 -1.97737466E+00 -3.12880535E+00
 -2.28915822E+00 -3.61493987E+00 -3.62146346E+00 -2.22765795E+00 -3.18011935E+00
 -1.99472229E+00  5.53028583E+00  5.59953057E+00  4.33020159E+00  4.02330162E+00
  4.04675372E+00  4.33335405E+00  4.11528779E+00  4.13766477E+00)

# ${A[$i]}

i=0
while read p; do

echo ${A[$i]} 
sed -i -e "s/${A[$i]}/$p/g" ct.prmtop
i=$(echo $i+1 | bc)
done < ../amber.charges
